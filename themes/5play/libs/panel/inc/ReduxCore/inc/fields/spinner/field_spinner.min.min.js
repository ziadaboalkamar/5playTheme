(function(b){redux.field_objects=redux.field_objects||{};redux.field_objects.spinner=redux.field_objects.spinner||{};b(document).ready(function(){});redux.field_objects.spinner.init=function(a){if(!a){a=b(document).find(".redux-group-tab:visible").find(".redux-container-spinner:visible")}b(a).each(function(){var e=b(this);var f=e;if(!e.hasClass("redux-field-container")){f=e.parents(".redux-field-container:first")}if(f.is(":hidden")){return}if(f.hasClass("redux-field-init")){f.removeClass("redux-field-init")}else{return}e.find(".redux_spinner").each(function(){var d=b(this).find(".spinner-input").data();d.id=b(this).find(".spinner-input").attr("id");e.find("#"+d.id).spinner({value:parseFloat(d.val,null),min:parseFloat(d.min,null),max:parseFloat(d.max,null),step:parseFloat(d.step,null),range:"min",slide:function(k,j){var l=b("#"+d.id);l.val(j.value);redux_change(l)}});var c=false;if(parseInt(d.min,null)<0){c=true}});e.find(".spinner-input").keyup(function(){b(this).addClass("spinnerInputChange")});e.find(".spinner-input").focus(function(){redux.field_objects.spinner.clean(b(this).val(),b(this))});e.find(".spinner-input").typeWatch({callback:function(c){redux.field_objects.spinner.clean(c,b(this))},wait:500,highlight:false,captureLength:1})})};redux.field_objects.spinner.clean=function(f,a){if(!a.hasClass("spinnerInputChange")){return}a.removeClass("spinnerInputChange");var e=a.data();f=parseFloat(f);if(f===""||f===null){f=e.min}else{if(f>=parseInt(e.max)){f=e.max}else{if(f<=parseInt(e.min)){f=e.min}else{f=Math.round(f/e.step)*e.step}}}a.val(f).trigger("change")}})(jQuery);