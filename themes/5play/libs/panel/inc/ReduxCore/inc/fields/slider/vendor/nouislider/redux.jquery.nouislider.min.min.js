/*! $.noUiSlider
 @version 5.0.0
 @author Leon Gersen https://twitter.com/LeonGersen
 @license WTFPL http://www.wtfpl.net/about/
 @documentation http://refreshless.com/nouislider/
*/
(function(b){if(b.zepto&&!b.fn.removeData){throw new ReferenceError("Zepto is loaded without the data module.")}b.fn.noUiSlider=function(ad,at){var au=b(document),ae=b("body"),T=".nui",S=b.fn.val,R=["noUi-base","noUi-origin","noUi-handle","noUi-input","noUi-active","noUi-state-tap","noUi-target","-lower","-upper","noUi-connect","noUi-horizontal","noUi-vertical","noUi-background","noUi-stacking","noUi-block","noUi-state-blocked","noUi-ltr","noUi-rtl","noUi-dragable","noUi-extended","noUi-state-drag"],V=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"};function am(d,c){return(c*100)/(d[1]-d[0])}function ab(d,c){return am(d,d[0]<0?c+Math.abs(d[0]):c-d[0])}function aj(d,c){return((c*(d[1]-d[0]))/100)+d[0]}function ax(c){return c instanceof b||(b.zepto&&b.zepto.isZ(c))}function af(c){return !isNaN(parseFloat(c))&&isFinite(c)}function aA(c,d){if(!b.isArray(c)){c=[c]}b.each(c,function(){if(typeof this==="function"){this.call(d)}})}function P(c,d){return function(){var e=[null,null];e[d]=b(this).val();c.val(e,true)}}function ag(d,c){return Math.round(d/c)*c}function Z(c,d){c=c.toFixed(d.decimals);if(parseFloat(c)===0){c=c.replace("-0","0")}return c.replace(".",d.serialization.mark)}function av(e,f,d){if(e.length===1){return e[0]}var c=e[0].offset()[d]+e[1].offset()[d];return e[f<c/2?0:1]}function a(c,d){return parseFloat(c.toFixed(d))}function O(f){f.preventDefault();var c=f.type.indexOf("touch")===0,h=f.type.indexOf("mouse")===0,e=f.type.indexOf("pointer")===0,i,d,g=f;if(f.type.indexOf("MSPointer")===0){e=true}if(f.originalEvent){f=f.originalEvent}if(c){i=f.changedTouches[0].pageX;d=f.changedTouches[0].pageY}if(h||e){if(!e&&window.pageXOffset===undefined){window.pageXOffset=document.documentElement.scrollLeft;window.pageYOffset=document.documentElement.scrollTop}i=f.clientX+window.pageXOffset;d=f.clientY+window.pageYOffset}return b.extend(g,{pointX:i,pointY:d,cursor:h})}function al(f,g,c,e){var d=e.target;f=f.replace(/\s/g,T+" ")+T;return g.on(f,function(h){var i=d.attr("disabled");i=!(i===undefined||i===null);if(d.hasClass("noUi-state-tap")||i){return false}c(O(h),e,d.data("base").data("options"))})}function aw(d){var c=this.target;if(d===undefined){return this.element.data("value")}if(d===true){d=this.element.data("value")}else{this.element.data("value",d)}if(d===undefined){return}b.each(this.elements,function(){if(typeof this==="function"){this.call(c,d)}else{this[0][this[1]](d)}})}function ai(d,f,g){if(ax(f)){var e=[],c=d.data("target");if(d.data("options").direction){g=g?0:1}f.each(function(){b(this).on("change"+T,P(c,g));e.push([b(this),"val"])});return e}if(typeof f==="string"){f=[b('<input type="hidden" name="'+f+'">').appendTo(d).addClass(R[3]).change(function(h){h.stopPropagation()}),"val"]}return[f]}function az(c,e,f){var d=[];b.each(f.to[e],function(g){d=d.concat(ai(c,f.to[e][g],e))});return{element:c,elements:d,target:c.data("target"),val:aw}}function an(e,c){var d=e.data("target");if(!d.hasClass(R[14])){if(!c){d.addClass(R[15]);setTimeout(function(){d.removeClass(R[15])},450)}d.addClass(R[14]);aA(e.data("options").block,d)}}function aa(d,c){var e=d.data("options");c=a(c,7);d.data("target").removeClass(R[14]);d.css(e.style,c+"%").data("pct",c);if(d.is(":first-child")){d.toggleClass(R[13],c>50)}if(e.direction){c=100-c}d.data("store").val(Z(aj(e.range,c),e))}function ay(d,c){var e=d.data("base"),f=e.data("options"),h=e.data("handles"),i=0,g=100;if(!af(c)){return false}if(f.step){c=ag(c,f.step)}if(h.length>1){if(d[0]!==h[0][0]){i=a(h[0].data("pct")+f.margin,7)}else{g=a(h[1].data("pct")-f.margin,7)}}c=Math.min(Math.max(c,i),g<0?100:g);if(c===d.data("pct")){return[!i?false:i,g===100?false:g]}aa(d,c);return true}function ao(d,e,c,f){d.addClass(R[5]);setTimeout(function(){d.removeClass(R[5])},300);ay(e,c);aA(f,d.data("target"));d.data("target").change()}function ak(k,g,d){var c=g.handles,l,e=k[g.point]-g.start[g.point];e=(e*100)/g.size;if(c.length===1){l=ay(c[0],g.positions[0]+e);if(l!==true){if(b.inArray(c[0].data("pct"),l)>=0){an(g.base,!d.margin)}return}}else{var f,i,h,j;if(d.step){e=ag(e,d.step)}f=h=g.positions[0]+e;i=j=g.positions[1]+e;if(f<0){i+=-1*f;f=0}else{if(i>100){f-=(i-100);i=100}}if(h<0&&!f&&!c[0].data("pct")){return}if(i===100&&j>100&&c[1].data("pct")===100){return}aa(c[0],f);aa(c[1],i)}aA(d.slide,g.target)}function ah(d,c,e){if(c.handles.length===1){c.handles[0].data("grab").removeClass(R[4])}if(d.cursor){ae.css("cursor","").off(T)}au.off(T);c.target.removeClass(R[14]+" "+R[20]).change();aA(e.set,c.target)}function ac(d,c,e){if(c.handles.length===1){c.handles[0].data("grab").addClass(R[4])}d.stopPropagation();al(V.move,au,ak,{start:d,base:c.base,target:c.target,handles:c.handles,positions:[c.handles[0].data("pct"),c.handles[c.handles.length-1].data("pct")],point:e.orientation?"pointY":"pointX",size:e.orientation?c.base.height():c.base.width()});al(V.end,au,ah,{target:c.target,handles:c.handles});if(d.cursor){ae.css("cursor",b(d.target).css("cursor"));if(c.handles.length>1){c.target.addClass(R[20])}ae.on("selectstart"+T,function(){return false})}}function W(g,d,i){var e=d.base,f,c,j,h;g.stopPropagation();if(i.orientation){j=g.pointY;h=e.height()}else{j=g.pointX;h=e.width()}f=av(e.data("handles"),j,i.style);c=((j-e.offset()[i.style])*100)/h;ao(e,f,c,[i.slide,i.set])}function ap(e,d,h){var f=d.base.data("handles"),c,g;g=h.orientation?e.pointY:e.pointX;g=g<d.base.offset()[h.style];c=g?0:100;g=g?0:f.length-1;ao(d.base,f[g],c,[h.slide,h.set])}function ar(e,c){function f(h){if(h.length!==2){return false}h=[parseFloat(h[0]),parseFloat(h[1])];if(!af(h[0])||!af(h[1])){return false}if(h[1]<h[0]){return false}return h}var g={resolution:function(i,h){switch(i){case 1:case 0.1:case 0.01:case 0.001:case 0.0001:case 0.00001:i=i.toString().split(".");h.decimals=i[0]==="1"?0:i[1].length;break;case undefined:h.decimals=2;break;default:return false}return true},mark:function(i,h,j){if(!i){h[j]["mark"]=".";return true}switch(i){case".":case",":return true;default:return false}},to:function(m,l,j){function k(o){return ax(o)||typeof o==="string"||typeof o==="function"||o===false||(ax(o[0])&&typeof o[0][o[1]]==="function")}function n(o){var p=[[],[]];if(k(o)){p[0].push(o)}else{b.each(o,function(r,q){if(r>1){return}if(k(q)){p[r].push(q)}else{p[r]=p[r].concat(q)}})}return p}if(!m){l[j]["to"]=[[],[]]}else{var h,i;m=n(m);if(l.direction&&m[1].length){m.reverse()}for(h=0;h<l.handles;h++){for(i=0;i<m[h].length;i++){if(!k(m[h][i])){return false}if(!m[h][i]){m[h].splice(i,1)}}}l[j]["to"]=m}return true}},d={handles:{r:true,t:function(h){h=parseInt(h,10);return(h===1||h===2)}},range:{r:true,t:function(i,h,j){h[j]=f(i);return h[j]&&h[j][0]!==h[j][1]}},start:{r:true,t:function(i,h,j){if(h.handles===1){if(b.isArray(i)){i=i[0]}i=parseFloat(i);h.start=[i];return af(i)}h[j]=f(i);return !!h[j]}},connect:{r:true,t:function(i,h,j){if(i==="lower"){h[j]=1}else{if(i==="upper"){h[j]=2}else{if(i===true){h[j]=3}else{if(i===false){h[j]=0}else{return false}}}}return true}},orientation:{t:function(i,h,j){switch(i){case"horizontal":h[j]=0;break;case"vertical":h[j]=1;break;default:return false}return true}},margin:{r:true,t:function(i,h,j){i=parseFloat(i);h[j]=am(h.range,i);return af(i)}},direction:{r:true,t:function(i,h,j){switch(i){case"ltr":h[j]=0;break;case"rtl":h[j]=1;h.connect=[0,2,1,3][h.connect];break;default:return false}return true}},behaviour:{r:true,t:function(i,h,j){h[j]={tap:i!==(i=i.replace("tap","")),extend:i!==(i=i.replace("extend","")),drag:i!==(i=i.replace("drag","")),fixed:i!==(i=i.replace("fixed",""))};return !i.replace("none","").replace(/\-/g,"")}},serialization:{r:true,t:function(i,h,j){return g.to(i.to,h,j)&&g.resolution(i.resolution,h)&&g.mark(i.mark,h,j)}},slide:{t:function(h){return b.isFunction(h)}},set:{t:function(h){return b.isFunction(h)}},block:{t:function(h){return b.isFunction(h)}},step:{t:function(i,h,j){i=parseFloat(i);h[j]=am(h.range,i);return af(i)}}};b.each(d,function(k,h){var i=e[k],j=i!==undefined;if((h.r&&!j)||(j&&!h.t(i,e,k))){if(console&&console.log&&console.group){console.group("Invalid noUiSlider initialisation:");console.log("Option:\t",k);console.log("Value:\t",i);console.log("Slider(s):\t",c);console.groupEnd()}throw new RangeError("noUiSlider")}})}function aq(c){this.data("options",b.extend(true,{},c));c=b.extend({handles:2,margin:0,connect:false,direction:"ltr",behaviour:"tap",orientation:"horizontal"},c);c.serialization=c.serialization||{};ar(c,this);c.style=c.orientation?"top":"left";return this.each(function(){var d=b(this),h,e,i=[],f,g=b("<div/>").appendTo(d);if(d.data("base")){throw new Error("Slider was already initialized.")}d.data("base",g).addClass([R[6],R[16+c.direction],R[10+c.orientation]].join(" "));for(h=0;h<c.handles;h++){f=b("<div><div/></div>").appendTo(g);f.addClass(R[1]);f.children().addClass([R[2],R[2]+R[7+c.direction+(c.direction?-1*h:h)]].join(" "));f.data({base:g,target:d,options:c,grab:f.children(),pct:-1}).attr("data-style",c.style);f.data({store:az(f,h,c.serialization)});i.push(f)}switch(c.connect){case 1:d.addClass(R[9]);i[0].addClass(R[12]);break;case 3:i[1].addClass(R[12]);case 2:i[0].addClass(R[9]);case 0:d.addClass(R[12]);break}g.addClass(R[0]).data({target:d,options:c,handles:i});d.val(c.start);if(!c.behaviour.fixed){for(h=0;h<i.length;h++){al(V.start,i[h].children(),ac,{base:g,target:d,handles:[i[h]]})}}if(c.behaviour.tap){al(V.start,g,W,{base:g,target:d})}if(c.behaviour.extend){d.addClass(R[19]);if(c.behaviour.tap){al(V.start,d,ap,{base:g,target:d})}}if(c.behaviour.drag){e=g.find("."+R[9]).addClass(R[18]);if(c.behaviour.fixed){e=e.add(g.children().not(e).data("grab"))}al(V.start,e,ac,{base:g,target:d,handles:i})}})}function X(){var c=b(this).data("base"),d=[];b.each(c.data("handles"),function(){d.push(b(this).data("store").val())});if(d.length===1){return d[0]}if(c.data("options").direction){return d.reverse()}return d}function Y(d,c){if(!b.isArray(d)){d=[d]}return this.each(function(){var i=b(this).data("base"),e,g,h=Array.prototype.slice.call(i.data("handles"),0),f=i.data("options");if(h.length>1){h[2]=h[0]}if(f.direction){d.reverse()}for(g=0;g<h.length;g++){e=d[g%2];if(e===null||e===undefined){continue}if(b.type(e)==="string"){e=e.replace(",",".")}e=ab(f.range,parseFloat(e));if(f.direction){e=100-e}if(ay(h[g],e)!==true){h[g].data("store").val(true)}if(c===true){aA(f.set,b(this))}}})}function Q(c){var d=[[c,""]];b.each(c.data("base").data("handles"),function(){d=d.concat(b(this).data("store").elements)});b.each(d,function(){if(this.length>1){this[0].off(T)}});c.removeClass(R.join(" "));c.empty().removeData("base options")}function U(c){return this.each(function(){var e=b(this).val()||false,d=b(this).data("options"),f=b.extend({},d,c);if(e!==false){Q(b(this))}if(!c){return}b(this)["noUiSlider"](f);if(e!==false&&f.start===d.start){b(this).val(e)}})}b.fn.val=function(){if(this.hasClass(R[6])){return arguments.length?Y.apply(this,arguments):X.apply(this)}return S.apply(this,arguments)};return(at?U:aq).call(this,ad)}}(window.jQuery||window.Zepto));