!function(b){redux.field_objects=redux.field_objects||{},redux.field_objects.color_gradient=redux.field_objects.color_gradient||{},redux.field_objects.color_gradient.init=function(a){a||(a=b(document).find(".redux-group-tab:visible").find(".redux-container-color_gradient:visible")),b(a).each(function(){var d=b(this),c=d;d.hasClass("redux-field-container")||(c=d.parents(".redux-field-container:first")),c.is(":hidden")||c.hasClass("redux-field-init")&&(c.removeClass("redux-field-init"),d.find(".redux-color-init").wpColorPicker({change:function(e,f){b(this).val(f.color.toString()),redux_change(b(this)),d.find("#"+e.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(e,f){b(this).val(""),redux_change(b(this).parent().find(".redux-color-init"))}}),d.find(".redux-color").on("keyup",function(){var f=b(this).val(),g=colorValidate(this),h="#"+b(this).attr("id");"transparent"===f?(b(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),d.find(h+"-transparency").attr("checked","checked")):(d.find(h+"-transparency").removeAttr("checked"),g&&g!==b(this).val()&&b(this).val(g))}),d.find(".redux-color").on("blur",function(){var e=b(this).val(),f="#"+b(this).attr("id");"transparent"===e?(b(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),d.find(f+"-transparency").attr("checked","checked")):(colorValidate(this)===e&&0!==e.indexOf("#")&&b(this).val(b(this).data("oldcolor")),d.find(f+"-transparency").removeAttr("checked"))}),d.find(".redux-color").on("keydown",function(){b(this).data("oldkeypress",b(this).val())}),d.find(".color-transparency").on("click",function(){if(b(this).is(":checked")){d.find(".redux-saved-color").val(b("#"+b(this).data("id")).val()),d.find("#"+b(this).data("id")).val("transparent"),d.find("#"+b(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent")}else{if("transparent"===d.find("#"+b(this).data("id")).val()){var e=b(".redux-saved-color").val();""===e&&(e=b("#"+b(this).data("id")).data("default-color")),d.find("#"+b(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",e),d.find("#"+b(this).data("id")).val(e)}}redux_change(b(this))}))})}}(jQuery);