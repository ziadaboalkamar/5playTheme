(function(b){redux.field_objects=redux.field_objects||{};redux.field_objects.border=redux.field_objects.border||{};redux.field_objects.border.init=function(a){if(!a){a=b(document).find(".redux-group-tab:visible").find(".redux-container-border:visible")}b(a).each(function(){var h=b(this);var i=h;if(!h.hasClass("redux-field-container")){i=h.parents(".redux-field-container:first")}if(i.is(":hidden")){return}if(i.hasClass("redux-field-init")){i.removeClass("redux-field-init")}else{return}h.find(".redux-border-top, .redux-border-right, .redux-border-bottom, .redux-border-left, .redux-border-all").numeric({allowMinus:false});var l={triggerChange:true,allowClear:true};var k=h.find(".redux-container-border").find(".select2_params");if(k.size()>0){var j=k.val();j=JSON.parse(j);l=b.extend({},l,j)}h.find(".redux-border-style").select2(l);h.find(".redux-border-input").on("change",function(){var d=b(this).parents(".redux-field:first").find(".field-units").val();if(b(this).parents(".redux-field:first").find(".redux-border-units").length!==0){d=b(this).parents(".redux-field:first").find(".redux-border-units option:selected").val()}var c=b(this).val();if(typeof d!=="undefined"&&c){c+=d}if(b(this).hasClass("redux-border-all")){b(this).parents(".redux-field:first").find(".redux-border-value").each(function(){b(this).val(c)})}else{b("#"+b(this).attr("rel")).val(c)}});h.find(".redux-border-units").on("change",function(){b(this).parents(".redux-field:first").find(".redux-border-input").change()});h.find(".redux-color-init").wpColorPicker({change:function(c,d){b(this).val(d.color.toString());redux_change(b(this));h.find("#"+c.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(c,d){b(this).val(d.color.toString());redux_change(b(this).parent().find(".redux-color-init"))}});h.find(".redux-color").on("keyup",function(){var c=colorValidate(this);if(c&&c!==b(this).val()){b(this).val(c)}});h.find(".redux-color").on("blur",function(){var c=b(this).val();if(colorValidate(this)===c){if(c.indexOf("#")!==0){b(this).val(b(this).data("oldcolor"))}}});h.find(".redux-color").on("keydown",function(){b(this).data("oldkeypress",b(this).val())})})}})(jQuery);