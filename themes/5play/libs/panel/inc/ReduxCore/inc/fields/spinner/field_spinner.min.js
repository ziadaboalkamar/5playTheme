(function(a){redux.field_objects=redux.field_objects||{};redux.field_objects.spinner=redux.field_objects.spinner||{};a(document).ready(function(){});redux.field_objects.spinner.init=function(b){if(!b){b=a(document).find(".redux-group-tab:visible").find(".redux-container-spinner:visible")}a(b).each(function(){var d=a(this);var c=d;if(!d.hasClass("redux-field-container")){c=d.parents(".redux-field-container:first")}if(c.is(":hidden")){return}if(c.hasClass("redux-field-init")){c.removeClass("redux-field-init")}else{return}d.find(".redux_spinner").each(function(){var e=a(this).find(".spinner-input").data();e.id=a(this).find(".spinner-input").attr("id");d.find("#"+e.id).spinner({value:parseFloat(e.val,null),min:parseFloat(e.min,null),max:parseFloat(e.max,null),step:parseFloat(e.step,null),range:"min",slide:function(h,i){var g=a("#"+e.id);g.val(i.value);redux_change(g)}});var f=false;if(parseInt(e.min,null)<0){f=true}});d.find(".spinner-input").keyup(function(){a(this).addClass("spinnerInputChange")});d.find(".spinner-input").focus(function(){redux.field_objects.spinner.clean(a(this).val(),a(this))});d.find(".spinner-input").typeWatch({callback:function(e){redux.field_objects.spinner.clean(e,a(this))},wait:500,highlight:false,captureLength:1})})};redux.field_objects.spinner.clean=function(c,b){if(!b.hasClass("spinnerInputChange")){return}b.removeClass("spinnerInputChange");var d=b.data();c=parseFloat(c);if(c===""||c===null){c=d.min}else{if(c>=parseInt(d.max)){c=d.max}else{if(c<=parseInt(d.min)){c=d.min}else{c=Math.round(c/d.step)*d.step}}}b.val(c).trigger("change")}})(jQuery);