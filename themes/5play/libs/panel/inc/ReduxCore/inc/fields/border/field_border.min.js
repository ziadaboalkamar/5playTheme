(function(a){redux.field_objects=redux.field_objects||{};redux.field_objects.border=redux.field_objects.border||{};redux.field_objects.border.init=function(b){if(!b){b=a(document).find(".redux-group-tab:visible").find(".redux-container-border:visible")}a(b).each(function(){var g=a(this);var f=g;if(!g.hasClass("redux-field-container")){f=g.parents(".redux-field-container:first")}if(f.is(":hidden")){return}if(f.hasClass("redux-field-init")){f.removeClass("redux-field-init")}else{return}g.find(".redux-border-top, .redux-border-right, .redux-border-bottom, .redux-border-left, .redux-border-all").numeric({allowMinus:false});var c={triggerChange:true,allowClear:true};var d=g.find(".redux-container-border").find(".select2_params");if(d.size()>0){var e=d.val();e=JSON.parse(e);c=a.extend({},c,e)}g.find(".redux-border-style").select2(c);g.find(".redux-border-input").on("change",function(){var h=a(this).parents(".redux-field:first").find(".field-units").val();if(a(this).parents(".redux-field:first").find(".redux-border-units").length!==0){h=a(this).parents(".redux-field:first").find(".redux-border-units option:selected").val()}var i=a(this).val();if(typeof h!=="undefined"&&i){i+=h}if(a(this).hasClass("redux-border-all")){a(this).parents(".redux-field:first").find(".redux-border-value").each(function(){a(this).val(i)})}else{a("#"+a(this).attr("rel")).val(i)}});g.find(".redux-border-units").on("change",function(){a(this).parents(".redux-field:first").find(".redux-border-input").change()});g.find(".redux-color-init").wpColorPicker({change:function(i,h){a(this).val(h.color.toString());redux_change(a(this));g.find("#"+i.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(i,h){a(this).val(h.color.toString());redux_change(a(this).parent().find(".redux-color-init"))}});g.find(".redux-color").on("keyup",function(){var h=colorValidate(this);if(h&&h!==a(this).val()){a(this).val(h)}});g.find(".redux-color").on("blur",function(){var h=a(this).val();if(colorValidate(this)===h){if(h.indexOf("#")!==0){a(this).val(a(this).data("oldcolor"))}}});g.find(".redux-color").on("keydown",function(){a(this).data("oldkeypress",a(this).val())})})}})(jQuery);