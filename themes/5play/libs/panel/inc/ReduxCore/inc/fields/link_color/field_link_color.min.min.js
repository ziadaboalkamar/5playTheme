(function(b){redux.field_objects=redux.field_objects||{};redux.field_objects.link_color=redux.field_objects.link_color||{};b(document).ready(function(){});redux.field_objects.link_color.init=function(a){if(!a){a=b(document).find(".redux-container-link_color:visible")}b(a).each(function(){var e=b(this);var f=e;if(!e.hasClass("redux-field-container")){f=e.parents(".redux-field-container:first")}if(f.is(":hidden")){return}if(f.hasClass("redux-field-init")){f.removeClass("redux-field-init")}else{return}e.find(".redux-color-init").wpColorPicker({change:function(c,d){b(this).val(d.color.toString());redux_change(b(this));e.find("#"+c.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(c,d){b(this).val(d.color.toString());redux_change(b(this).parent().find(".redux-color-init"))}});e.find(".redux-color").on("keyup",function(){var d=b(this).val();var h=colorValidate(this);var c="#"+b(this).attr("id");if(d==="transparent"){b(this).parent().parent().find(".wp-color-result").css("background-color","transparent");e.find(c+"-transparency").attr("checked","checked")}else{e.find(c+"-transparency").removeAttr("checked");if(h&&h!==b(this).val()){b(this).val(h)}}});e.find(".redux-color").on("blur",function(){var d=b(this).val();var c="#"+b(this).attr("id");if(d==="transparent"){b(this).parent().parent().find(".wp-color-result").css("background-color","transparent");e.find(c+"-transparency").attr("checked","checked")}else{if(colorValidate(this)===d){if(d.indexOf("#")!==0){b(this).val(b(this).data("oldcolor"))}}e.find(c+"-transparency").removeAttr("checked")}});e.find(".redux-color").on("keydown",function(){b(this).data("oldkeypress",b(this).val())})})}})(jQuery);