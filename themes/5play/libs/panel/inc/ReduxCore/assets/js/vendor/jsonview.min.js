function collapse(a){var c=a.target;var d=c.parentNode.getElementsByClassName("collapsible");if(!d.length){return}d=d[0];if(d.style.display==="none"){var b=d.parentNode.getElementsByClassName("ellipsis")[0];d.parentNode.removeChild(b);d.style.display=""}else{d.style.display="none";var b=document.createElement("span");b.className="ellipsis";b.innerHTML=" &hellip; ";d.parentNode.insertBefore(b,d)}c.innerHTML=(c.innerHTML==="-")?"+":"-"}function addCollapser(b){if(b.nodeName!=="LI"){return}var a=document.createElement("div");a.className="collapser";a.innerHTML="-";a.addEventListener("click",collapse,false);b.insertBefore(a,b.firstChild)}function jsonView(m,t){this.debug=false;if(m.indexOf("#")!==-1){this.idType="id";this.id=m.replace("#","")}else{if(m.indexOf(".")!==-1){this.idType="class";this.id=m.replace(".","")}else{if(this.debug){console.log("Can't find that element")}return}}this.data=document.getElementById(this.id).innerHTML;if(typeof(t)!==undefined){if(t.indexOf("#")!==-1){this.targetType="id";this.target=t.replace("#","")}else{if(m.indexOf(".")!==-1){this.targetType="class";this.target=t.replace(".","")}else{if(this.debug){console.log("Can't find the target element")}return}}}if(/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)){if(this.debug){console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML...")}this.data=this.data.replace(/<(?:.|\s)*?>/g,"")}var d=/^\s*([\[\{].*[\}\]])\s*$/;var f=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/;var n=/([\[\{][\s\S]*[\]\}])\)/;var g=d.test(this.data);var k=f.test(this.data);if(this.debug){console.log("JSONView: is_json="+g+" is_jsonp="+k)}if(g||k){if(this.debug){console.log("JSONView: sexytime!")}function o(){}o.prototype={htmlEncode:function(e){return e!=null?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(i,e){return'<span class="'+e+'">'+this.htmlEncode(i)+"</span>"},valueToHTML:function(i){var u=typeof i;var e="";if(i===null){e+=this.decorateWithSpan("null","null")}else{if(i&&i.constructor===Array){e+=this.arrayToHTML(i)}else{if(u==="object"){e+=this.objectToHTML(i)}else{if(u==="number"){e+=this.decorateWithSpan(i,"num")}else{if(u==="string"){if(/^(http|https):\/\/[^\s]+$/.test(i)){e+='<a href="'+i+'">'+this.htmlEncode(i)+"</a>"}else{e+=this.decorateWithSpan('"'+i+'"',"string")}}else{if(u==="boolean"){e+=this.decorateWithSpan(i,"bool")}}}}}}return e},arrayToHTML:function(u){var e='[<ul class="array collapsible">';var i=false;for(var v in u){i=true;e+="<li>";e+=this.valueToHTML(u[v]);e+="</li>"}e+="</ul>]";if(!i){e="[ ]"}return e},objectToHTML:function(u){var e='{<ul class="obj collapsible">';var i=false;for(var v in u){i=true;e+="<li>";e+='<span class="prop">'+this.htmlEncode(v)+"</span>: ";e+=this.valueToHTML(u[v]);e+="</li>"}e+="</ul>}";if(!i){e="{ }"}return e},jsonToHTML:function(i,v,u){var e="";if(v){e+='<div class="callback">'+v+" (</div>";e+='<div id="json">'}else{e+='<div id="json">'}e+=this.valueToHTML(i);e+="</div>";if(v){e+='<div class="callback">)</div>'}return this.toHTML(e,u)},errorPage:function(i,v,u){var e='<div id="error">Error parsing JSON: '+i.message+"</div>";e+="<h1>"+i.stack+":</h1>";e+='<div id="json">'+this.htmlEncode(v)+"</div>";return this.toHTML(e,u+" - Error")},toHTML:function(e){return e}};this.jsonFormatter=new o();var q="";var j="",c="";var h=f.exec(this.data);if(h&&h.length===3){if(this.debug){console.log("THIS IS JSONp")}c=h[1];j=h[2]}else{if(this.debug){console.log("Vanilla JSON")}j=this.data}if(this.debug){console.log(j)}try{var s=JSON.parse(j);if(s){q=this.jsonFormatter.jsonToHTML(s,c)}else{throw"There was no object!"}}catch(r){if(this.debug){console.log(r)}q=this.jsonFormatter.errorPage(r,this.data)}var b="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>";if(this.targetType!==undefined){this.idType=this.targetType;this.id=this.target}var a;if(this.idType==="class"){a=document.getElementsByClassName(this.id);if(a){a.className+=a.className?" jsonViewOutput":"jsonViewOutput";a.innerHTML=b+q}}else{if(this.idType==="id"){a=document.getElementById(this.id);if(a){a.className+=a.className?" jsonViewOutput":"jsonViewOutput";a.innerHTML=b+q}a.innerHTML=b+q}}var l=document.getElementsByClassName("collapsible");for(var p=0;p<l.length;p++){addCollapser(l[p].parentNode)}}else{}};