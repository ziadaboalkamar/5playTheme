(function(C){C.fn.alphanum=function(P){var O=H(P);var Q=this;z(Q,D,O);return this};C.fn.alpha=function(Q){var P=H("alpha");var O=H(Q,P);var R=this;z(R,D,O);return this};C.fn.numeric=function(P){var O=j(P);var Q=this;z(Q,G,O);Q.blur(function(){v(this,P)});return this};var n={allow:"",disallow:"",allowSpace:true,allowNumeric:true,allowUpper:true,allowLower:true,allowCaseless:true,allowLatin:true,allowOtherCharSets:true,maxLength:NaN};var A={allowPlus:false,allowMinus:true,allowThouSep:true,allowDecSep:true,allowLeadingSpaces:false,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN};var N={alpha:{allowNumeric:false},upper:{allowNumeric:false,allowUpper:true,allowLower:false,allowCaseless:true},lower:{allowNumeric:false,allowUpper:false,allowLower:true,allowCaseless:true}};var d={integer:{allowPlus:false,allowMinus:true,allowThouSep:false,allowDecSep:false},positiveInteger:{allowPlus:false,allowMinus:false,allowThouSep:false,allowDecSep:false}};var a=E()+e();var m=",";var x=".";var y=b();var w=L();function E(){var O="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_";O+=" ";return O}function e(){var O="\xAC\u20AC\xA3\xA6";return O}function z(Q,O,P){Q.each(function(){var R=C(this);R.bind("keyup change paste",function(T){var S="";if(T.originalEvent&&T.originalEvent.clipboardData&&T.originalEvent.clipboardData.getData){S=T.originalEvent.clipboardData.getData("text/plain")}setTimeout(function(){I(R,O,P,S)},0)});R.bind("keypress",function(W){var aa=!W.charCode?W.which:W.charCode;if(F(aa)||W.ctrlKey||W.metaKey){return}var Y=String.fromCharCode(aa);var X=R.selection();var S=X.start;var V=X.end;var Z=R.val();var U=Z.substring(0,S)+Y+Z.substring(V);var T=O(U,P);if(T!=U){W.preventDefault()}})})}function v(O,Q){var P=parseFloat(C(O).val());var R=C(O);if(isNaN(P)){R.val("");return}if(r(Q.min)&&P<Q.min){R.val("")}if(r(Q.max)&&P>Q.max){R.val("")}}function r(O){return !isNaN(O)}function F(O){if(O>=32){return false}if(O==10){return false}if(O==13){return false}return true}function I(T,O,S,P){var U=T.val();if(U==""&&P.length>0){U=P}var R=O(U,S);if(U==R){return}var Q=T.alphanum_caret();T.val(R);if(U.length==(R.length+1)){T.alphanum_caret(Q-1)}else{T.alphanum_caret(Q)}}function H(Q,P){if(typeof P=="undefined"){P=n}var R,O={};if(typeof Q==="string"){R=N[Q]}else{if(typeof Q=="undefined"){R={}}else{R=Q}}C.extend(O,P,R);if(typeof O.blacklist=="undefined"){O.blacklistSet=g(O.allow,O.disallow)}return O}function j(P){var Q,O={};if(typeof P==="string"){Q=d[P]}else{if(typeof P=="undefined"){Q={}}else{Q=P}}C.extend(O,A,Q);return O}function t(Q,O,P){if(P.maxLength&&Q.length>=P.maxLength){return false}if(P.allow.indexOf(O)>=0){return true}if(P.allowSpace&&(O==" ")){return true}if(P.blacklistSet.contains(O)){return false}if(!P.allowNumeric&&y[O]){return false}if(!P.allowUpper&&f(O)){return false}if(!P.allowLower&&s(O)){return false}if(!P.allowCaseless&&K(O)){return false}if(!P.allowLatin&&w.contains(O)){return false}if(!P.allowOtherCharSets){if(y[O]||w.contains(O)){return true}else{return false}}return true}function k(Q,O,P){if(y[O]){if(l(Q,P)){return false}if(q(Q,P)){return false}if(B(Q,P)){return false}if(p(Q+O,P)){return false}if(J(Q+O,P)){return false}return true}if(P.allowPlus&&O=="+"&&Q==""){return true}if(P.allowMinus&&O=="-"&&Q==""){return true}if(O==m&&P.allowThouSep&&i(Q,O)){return true}if(O==x){if(Q.indexOf(x)>=0){return false}if(P.allowDecSep){return true}}return false}function u(O){O=O+"";return O.replace(/[^0-9]/g,"").length}function l(P,Q){var O=Q.maxDigits;if(O==""||isNaN(O)){return false}var R=u(P);if(R>=O){return true}return false}function B(R,T){var S=T.maxDecimalPlaces;if(S==""||isNaN(S)){return false}var P=R.indexOf(x);if(P==-1){return false}var O=R.substring(P);var Q=u(O);if(Q>=S){return true}return false}function q(R,S){var Q=S.maxPreDecimalPlaces;if(Q==""||isNaN(Q)){return false}var O=R.indexOf(x);if(O>=0){return false}var P=u(R);if(P>=Q){return true}return false}function p(O,P){if(!P.max||P.max<0){return false}var Q=parseFloat(O);if(Q>P.max){return true}return false}function J(O,P){if(!P.min||P.min>0){return false}var Q=parseFloat(O);if(Q<P.min){return true}return false}function D(U,S){if(typeof U!="string"){return U}var Q=U.split("");var P=[];var R=0;var O;for(R=0;R<Q.length;R++){O=Q[R];var T=P.join("");if(t(T,O,S)){P.push(O)}}return P.join("")}function G(U,S){if(typeof U!="string"){return U}var Q=U.split("");var P=[];var R=0;var O;for(R=0;R<Q.length;R++){O=Q[R];var T=P.join("");if(k(T,O,S)){P.push(O)}}return P.join("")}function M(S){var R=S.split("");var Q=0;var P=[];var O;for(Q=0;Q<R.length;Q++){O=R[Q]}}function c(O){}function f(O){var Q=O.toUpperCase();var P=O.toLowerCase();if((O==Q)&&(Q!=P)){return true}else{return false}}function s(O){var Q=O.toUpperCase();var P=O.toLowerCase();if((O==P)&&(Q!=P)){return true}else{return false}}function K(O){if(O.toUpperCase()==O.toLowerCase()){return true}else{return false}}function g(P,S){var Q=new h(a+S);var O=new h(P);var R=Q.subtract(O);return R}function b(){var R="0123456789".split("");var P={};var O=0;var Q;for(O=0;O<R.length;O++){Q=R[O];P[Q]=true}return P}function L(){var O="abcdefghijklmnopqrstuvwxyz";var P=O.toUpperCase();var Q=new h(O+P);return Q}function i(R,O){if(R.length==0){return false}var T=R.indexOf(x);if(T>=0){return false}var U=R.indexOf(m);if(U<0){return true}var Q=R.lastIndexOf(m);var P=R.length-Q-1;if(P<3){return false}var S=u(R.substring(U));if((S%3)>0){return false}return true}function h(O){if(typeof O=="string"){this.map=o(O)}else{this.map={}}}h.prototype.add=function(Q){var P=this.clone();for(var O in Q.map){P.map[O]=true}return P};h.prototype.subtract=function(Q){var P=this.clone();for(var O in Q.map){delete P.map[O]}return P};h.prototype.contains=function(O){if(this.map[O]){return true}else{return false}};h.prototype.clone=function(){var P=new h();for(var O in this.map){P.map[O]=true}return P};function o(P){var R={};var S=P.split("");var Q=0;var O;for(Q=0;Q<S.length;Q++){O=S[Q];R[O]=true}return R}C.fn.alphanum.backdoorAlphaNum=function(Q,P){var O=H(P);return D(Q,O)};C.fn.alphanum.backdoorNumeric=function(Q,P){var O=j(P);return G(Q,O)};C.fn.alphanum.setNumericSeparators=function(O){if(O.thousandsSeparator.length!=1){return}if(O.decimalSeparator.length!=1){return}m=O.thousandsSeparator;x=O.decimalSeparator}})(jQuery);(function(c){function b(f,e){if(f.createTextRange){var d=f.createTextRange();d.move("character",e);d.select()}else{if(f.selectionStart!=null){f.focus();f.setSelectionRange(e,e)}}}function a(f){if("selection" in document){var d=f.createTextRange();try{d.setEndPoint("EndToStart",document.selection.createRange())}catch(g){return 0}return d.text.length}else{if(f.selectionStart!=null){return f.selectionStart}}}c.fn.alphanum_caret=function(d,e){if(typeof(d)==="undefined"){return a(this.get(0))}return this.queue(function(g){if(isNaN(d)){var f=c(this).val().indexOf(d);if(e===true){f+=d.length}else{if(typeof(e)!=="undefined"){f+=e}}b(this,f)}else{b(this,d)}g()})}}(jQuery));(function(g){var k=function(a){return a.replace(/([a-z])([a-z]+)/gi,function(m,i,o){return i+o.toLowerCase()}).replace(/_/g,"")},d=function(a){return a.replace(/^([a-z]+)_TO_([a-z]+)/i,function(m,i,o){return o+"_TO_"+i})},b=function(a){return a?a.ownerDocument.defaultView||a.ownerDocument.parentWindow:window},f=function(e,o){var m=g.Range.current(e).clone(),a=g.Range(e).select(e);if(!m.overlaps(a)){return null}if(m.compare("START_TO_START",a)<1){startPos=0;m.move("START_TO_START",a)}else{fromElementToCurrent=a.clone();fromElementToCurrent.move("END_TO_START",m);startPos=fromElementToCurrent.toString().length}if(m.compare("END_TO_END",a)>=0){endPos=a.toString().length}else{endPos=startPos+m.toString().length}return{start:startPos,end:endPos}},l=function(x){var i=b(x);if(x.selectionStart!==undefined){if(document.activeElement&&document.activeElement!=x&&x.selectionStart==x.selectionEnd&&x.selectionStart==0){return{start:x.value.length,end:x.value.length}}return{start:x.selectionStart,end:x.selectionEnd}}else{if(i.getSelection){return f(x,i)}else{try{if(x.nodeName.toLowerCase()=="input"){var y=b(x).document.selection.createRange(),e=x.createTextRange();e.setEndPoint("EndToStart",y);var w=e.text.length;return{start:w,end:w+y.text.length}}else{var v=f(x,i);if(!v){return v}var q=g.Range.current().clone(),m=q.clone().collapse().range,r=q.clone().collapse(false).range;m.moveStart("character",-1);r.moveStart("character",-1);if(v.startPos!=0&&m.text==""){v.startPos+=2}if(v.endPos!=0&&r.text==""){v.endPos+=2}return v}}catch(p){return{start:x.value.length,end:x.value.length}}}}},c=function(v,x,m){var q=b(v);if(v.setSelectionRange){if(m===undefined){v.focus();v.setSelectionRange(x,x)}else{v.select();v.selectionStart=x;v.selectionEnd=m}}else{if(v.createTextRange){var y=v.createTextRange();y.moveStart("character",x);m=m||x;y.moveEnd("character",m-v.value.length);y.select()}else{if(q.getSelection){var a=q.document,w=q.getSelection(),r=a.createRange(),p=[x,m!==undefined?m:x];h([v],p);r.setStart(p[0].el,p[0].count);r.setEnd(p[1].el,p[1].count);w.removeAllRanges();w.addRange(r)}else{if(q.document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(v);r.collapse();r.moveStart("character",x);r.moveEnd("character",m!==undefined?m:x);r.select()}}}}},j=function(m,a,o,i){if(typeof o[0]==="number"&&o[0]<a){o[0]={el:i,count:o[0]-m}}if(typeof o[1]==="number"&&o[1]<=a){o[1]={el:i,count:o[1]-m}}},h=function(q,m,u){var p,a;u=u||0;for(var o=0;q[o];o++){p=q[o];if(p.nodeType===3||p.nodeType===4){a=u;u+=p.nodeValue.length;j(a,u,m,p)}else{if(p.nodeType!==8){u=h(p.childNodes,m,u)}}}return u};jQuery.fn.selection=function(i,a){if(i!==undefined){return this.each(function(){c(this,i,a)})}else{return l(this[0])}};g.fn.selection.getCharElement=h})(jQuery);